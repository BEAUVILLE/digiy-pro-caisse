<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#061b14" />
  <title>DIGIY CAISSE PRO ‚ôæÔ∏è ‚Äî Entr√©e</title>
  <meta name="description" content="Entr√©e DIGIY CAISSE PRO : essai 15 jours ou acc√®s PIN s√©curis√©." />

  <style>
    :root{
      --bg:#061b14; --card:#0b2a1f; --line:rgba(255,255,255,.14);
      --text:#eafff1; --muted:rgba(234,255,241,.72);
      --gold:#facc15; --ok:#22c55e; --bad:#fb7185; --cyan:#22d3ee;
      --shadow:0 18px 55px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      font-family:system-ui,-apple-system,Segoe UI,Roboto;
      background:
        radial-gradient(circle at top, rgba(250,204,21,.10), transparent 55%),
        linear-gradient(135deg,#04160f,#0a2b1f);
      color:var(--text);
      padding:18px;
    }
    .card{
      width:min(640px,94vw);
      background:linear-gradient(145deg,rgba(11,42,31,.96),rgba(6,35,25,.96));
      border:1px solid var(--line);
      border-radius:24px;
      box-shadow:var(--shadow);
      padding:18px;
    }
    .top{
      display:flex;justify-content:space-between;align-items:center;gap:12px
    }
    .brand{
      display:flex;align-items:center;gap:10px
    }
    .ico{
      width:50px;height:50px;border-radius:16px;
      display:grid;place-items:center;
      background:radial-gradient(circle at 30% 0,var(--gold),transparent 60%);
      border:1px solid rgba(250,204,21,.35);
      font-weight:1000;
    }
    .t{
      font-weight:1000;letter-spacing:.10em;font-size:12px
    }
    .sub{
      font-size:12px;color:var(--muted);margin-top:4px
    }
    .pill{
      border:1px solid var(--line);
      background:rgba(250,204,21,.10);
      padding:7px 10px;border-radius:999px;
      font-size:12px;font-weight:900;
      white-space:nowrap;
    }
    .sep{height:1px;background:var(--line);margin:14px 0}
    .hero{
      padding:6px 0 10px;
      line-height:1.35;
    }
    .hero h1{
      margin:0;
      font-size:20px;
      font-weight:1000;
      letter-spacing:.02em;
    }
    .hero p{
      margin:8px 0 0;
      color:var(--muted);
      font-weight:700;
      font-size:13px;
    }
    .grid{
      display:grid;
      gap:12px;
      margin-top:14px;
    }
    @media(min-width:560px){
      .grid{grid-template-columns:1fr 1fr}
    }
    .btn{
      width:100%;
      padding:14px 14px;
      border-radius:16px;
      border:none;
      cursor:pointer;
      font-weight:1000;
      font-size:14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .btn span{
      font-size:18px;
    }
    .btn.trial{
      background:linear-gradient(90deg,var(--cyan),#60a5fa);
      color:#04160f;
    }
    .btn.pin{
      background:linear-gradient(90deg,var(--ok),var(--gold));
      color:#062015;
    }
    .btn.pay{
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.16);
      color:var(--text);
    }
    .note{
      margin-top:12px;
      padding:12px 12px;
      border-radius:16px;
      border:1px solid rgba(34,197,94,.22);
      background:rgba(34,197,94,.08);
      color:#bbf7d0;
      font-weight:850;
      font-size:12px;
      white-space:pre-wrap;
    }
    .mini{
      margin-top:10px;
      text-align:center;
      color:var(--muted);
      font-size:12px;
      font-weight:750;
    }
    a.link{color:#fde68a;text-decoration:none;font-weight:900}
  </style>
</head>

<body>
  <div class="card">
    <div class="top">
      <div class="brand">
        <div class="ico">üßæ</div>
        <div>
          <div class="t">DIGIY CAISSE PRO ‚ôæÔ∏è</div>
          <div class="sub">Entr√©e officielle ‚Äî Essai ou Acc√®s s√©curis√©</div>
        </div>
      </div>
      <div class="pill">ROYAL START</div>
    </div>

    <div class="sep"></div>

    <div class="hero">
      <h1>Bienvenue fr√©rot üëë</h1>
      <p>
        Ici c'est la porte de la Caisse DIGIY.<br>
        Deux chemins simples :
        <b>Essai 15 jours</b> ou <b>Acc√®s PIN</b>.
      </p>
    </div>

    <div class="grid">

      <!-- ‚úÖ ESSAI -->
      <button class="btn trial" id="btnTrial" type="button">
        <div>
          üéÅ <b>Essai 15 jours</b><br>
          <small style="opacity:.9;font-weight:850">Inscription gratuite ‚Äî tu testes direct</small>
        </div>
        <span>‚Üí</span>
      </button>

      <!-- ‚úÖ ACC√àS PIN -->
      <button class="btn pin" id="btnPin" type="button">
        <div>
          üîë <b>J'ai d√©j√† mon acc√®s</b><br>
          <small style="opacity:.9;font-weight:850">Slug + PIN (via QR boutique)</small>
        </div>
        <span>‚Üí</span>
      </button>

      <!-- ‚úÖ PAIEMENT -->
      <button class="btn pay" id="btnPay" type="button" style="grid-column:1/-1">
        <div>
          üßæ <b>Activer une licence</b><br>
          <small style="opacity:.9;font-weight:850">Apr√®s essai ou pour passer PRO</small>
        </div>
        <span>‚Üí</span>
      </button>

    </div>

    <div class="note">
‚úÖ PRO terrain : on entre toujours avec un lien QR du type :
https://beauville.github.io/digiy-caisse-pro/index.html?slug=chez-astou-saly

La vitrine, elle, reste simple pour tout le monde.
    </div>

    <div class="mini">
      Retour HUB : <a class="link" href="https://beauville.github.io/DIGIY/">DIGIY HUB</a> ‚Ä¢
      Support WhatsApp : <a class="link" href="https://wa.me/221771342889">+221 77 134 28 89</a>
    </div>
  </div>

<script>
(() => {
  const MODULE = "caisse_pro";

  const INSCRIPTION_URL = "https://beauville.github.io/inscription-digiy/?module=" + MODULE;
  const PAY_URL         = "https://beauville.github.io/commencer-a-payer/?module=" + MODULE;

  // R√©cup√©ration du slug depuis l'URL si pr√©sent (ex: ?slug=chez-astou-saly)
  const url = new URL(location.href);
  const slug = (url.searchParams.get("slug") || "").trim();

  // ‚úÖ FIX : URL PIN correcte avec module + return + slug si disponible
  function buildPinUrl() {
    const base = "https://beauville.github.io/digiy-qr-pro/pin.html";
    const u = new URL(base);
    u.searchParams.set("module", "POS");
    u.searchParams.set("return", "https://pro-caisse.digiylyfe.com/");
    if (slug) u.searchParams.set("slug", slug);
    return u.toString();
  }

  function withSlug(base) {
    if (!slug) return base;
    const u = new URL(base, location.href);
    u.searchParams.set("slug", slug);
    return u.toString();
  }

  document.getElementById("btnTrial").addEventListener("click", () => {
    location.href = withSlug(INSCRIPTION_URL);
  });

  document.getElementById("btnPin").addEventListener("click", () => {
    location.href = buildPinUrl();
  });

  document.getElementById("btnPay").addEventListener("click", () => {
    window.open(withSlug(PAY_URL), "_blank", "noopener");
  });
})();
</script>
</body>
</html>
